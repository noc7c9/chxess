(function(r){"use strict";function e(r,e){function t(){}t.prototype=r;var a=new t;for(var n in e)a[n]=e[n];if(e.toString!==Object.prototype.toString)a.toString=e.toString;return a}var u=function(){};u.__name__=true;u.substr=function(r,e,t){if(t==null){t=r.length}else if(t<0){if(e==0){t=r.length+t}else{return""}}return r.substr(e,t)};u.iter=function(r){return{cur:0,arr:r,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};Math.__name__=true;var n=function(){};n.__name__=true;n.field=function(r,e){try{return r[e]}catch(r){return null}};n.isFunction=function(r){if(typeof r=="function"){return!(r.__name__||r.__ename__)}else{return false}};n.compare=function(r,e){if(r==e){return 0}else if(r>e){return 1}else{return-1}};n.isEnumValue=function(r){if(r!=null){return r.__enum__!=null}else{return false}};var t=function(){};t.__name__=true;t.string=function(r){return d.__string_rec(r,"")};var m=function(){};m.__name__=true;m.createEnum=function(r,e,t){var a=n.field(r,e);if(a==null){throw new l("No such constructor "+e)}if(n.isFunction(a)){if(t==null){throw new l("Constructor "+e+" need parameters")}return a.apply(r,t)}if(t!=null&&t.length!=0){throw new l("Constructor "+e+" does not need parameters")}return a};m.createEnumIndex=function(r,e,t){var a=r.__constructs__[e];if(a==null){throw new l(e+" is not a valid enum constructor index")}return m.createEnum(r,a,t)};var a={};a.__name__=true;a._new=function(r){var e=[r[0],r[1]];return e};a.get_rank=function(r){return r[0]};a.get_file=function(r){return r[1]};a.fromArrayInt=function(r){var e=[r[0],r[1]];return e};var i=r["Chxess"]=function(r,e){this.turn=Q.White;var t=new H;this.board=t;var a=new N;a.set(W.A,j.Rook);a.set(W.B,j.Knight);a.set(W.C,j.Bishop);a.set(W.D,j.Queen);a.set(W.E,j.King);a.set(W.F,j.Bishop);a.set(W.G,j.Knight);a.set(W.H,j.Rook);var n=a;var i=0;var v=W.__empty_constructs__;while(i<v.length){var s=v[i];++i;var u=n.get(s);var o=this.board;var h=new O(oe.R1,s);var l=new G(Q.White,u);var _=o.keys;var c=h.hashCode();_.h[c]=h;var f=o.values;var g=h.hashCode();f.h[g]=l;var m=this.board;var p=new O(oe.R8,s);var d=new G(Q.Black,u);var w=m.keys;var y=p.hashCode();w.h[y]=p;var k=m.values;var C=p.hashCode();k.h[C]=d;var R=this.board;var S=new O(oe.R2,s);var b=new G(Q.White,j.Pawn);var A=R.keys;var B=S.hashCode();A.h[B]=S;var M=R.values;var I=S.hashCode();M.h[I]=b;var E=this.board;var x=new O(oe.R7,s);var D=new G(Q.Black,j.Pawn);var T=E.keys;var F=x.hashCode();T.h[F]=x;var K=E.values;var P=x.hashCode();K.h[P]=D}if(r!=null){this.setBoard(r)}if(e!=null){this.setTurn(e)}};i.__name__=true;i.prototype={clone:function(){return new i(this.getBoard(),this.getTurn())},getTurn:function(){if(this.turn==Q.White){return"w"}else{return"b"}},setTurn:function(r){switch(r){case"b":this.turn=Q.Black;break;case"w":this.turn=Q.White;break;default:throw new l("Error: Invalid turn value: "+r)}},toggleTurn:function(){var r=this.turn;var e;switch(r[1]){case 0:e=Q.Black;break;case 1:e=Q.White;break}this.turn=e},isInCheck:function(){this.toggleTurn();var r=false;var e=0;var t=this.getMovesAll();while(e<t.length){var a=t[e];++e;var n=y.fromString(a,this);if(n.capture!=null&&n.capture.type==j.King){r=true;break}}this.toggleTurn();return r},isInCheckmate:function(){if(this.isInCheck()){return this.getMoves().length==0}else{return false}},isInStalemate:function(){if(!this.isInCheck()){return this.getMoves().length==0}else{return false}},isGameOver:function(){return this.getMoves().length==0},getBoard:function(){var r=[];var e=0;var t=oe.__empty_constructs__;while(e<t.length){var a=t[e];++e;var n=[];var i=0;var v=W.__empty_constructs__;while(i<v.length){var s=v[i];++i;var u=this.board;var o=new O(a,s);var h=u.values;var l=o.hashCode();var _=h.h[l];n.push(_!=null?_.toString():"")}r.push(n)}r.reverse();return r},setBoard:function(r){var e=0;while(e<8){var t=e++;var a=m.createEnumIndex(oe,7-t,null);var n=0;while(n<8){var i=n++;var v=m.createEnumIndex(W,i,null);var s=new O(a,v);var u=r[t][i];if(u==""){var o=this.board;o.values.remove(s.hashCode());o.keys.remove(s.hashCode())}else{var h=G.fromString(u);var l=this.board;var _=l.keys;var c=s.hashCode();_.h[c]=s;var f=l.values;var g=s.hashCode();f.h[g]=h}}}},clearBoard:function(){var r=this.board.keys.iterator();while(r.hasNext()){var e=r.next();var t=this.board;t.values.remove(e.hashCode());t.keys.remove(e.hashCode())}},getSquare:function(r){var e=O.fromString(r);var t=this.board.values;var a=e.hashCode();var n=t.h[a];if(n!=null){return n.toString()}else{return""}},setSquare:function(r,e){var t=O.fromString(r);if(e==""){var a=this.board;a.values.remove(t.hashCode());a.keys.remove(t.hashCode())}else{var n=G.fromString(e);var i=this.board;var v=i.keys;var s=t.hashCode();v.h[s]=t;var u=i.values;var o=t.hashCode();u.h[o]=n}},getMoves:function(r){var e;if(r!=null){e=this.getMovesSingle(O.fromString(r))}else{e=this.getMovesAll()}return this.filterMovesIntoCheck(e)},playMove:function(r){var e=y.fromString(r,this);var t=this.board.values;var a=e.start.hashCode();var n=t.h[a];if(n==null){return false}if(n.color!=this.turn){return false}var i=false;var v=e.toString();var s=0;var u=this.getMovesAll();while(s<u.length){var o=u[s];++s;if(v==o){i=true;break}}if(!i){return false}var h=this.board;var l=e.start;h.values.remove(l.hashCode());h.keys.remove(l.hashCode());var _=this.board;var c=e.end;var f=_.keys;var g=c.hashCode();f.h[g]=c;var m=_.values;var p=c.hashCode();m.h[p]=n;this.toggleTurn();return true},filterMovesIntoCheck:function(r){var t=this;return r.filter(function(r){var e=t.clone();e.playMove(r);e.toggleTurn();return!e.isInCheck()})},getMovesAll:function(){var r=[];var e=this.board.keys.iterator();while(e.hasNext()){var t=e.next();var a=this.board.values;var n=t.hashCode();var i=a.h[n];if(i.color==this.turn){var v=this.getMovesSingle(t);var s=t.toString();var u=i.toString();var o=v.length;var h=v.map(function(r){return r.toString()}).join(", ");r=r.concat(v)}}return r},getMovesSingle:function(r){var e=this.board.values;var t=r.hashCode();var a=e.h[t];if(a==null){return[]}else{var n;if(this.turn!=a.color){return[]}var i=a.type;switch(i[1]){case 0:var v=a.color;var s;switch(v[1]){case 0:s=oe.R2;break;case 1:s=oe.R7;break}var u=r.rank==s;var o;switch(v[1]){case 0:o=1;break;case 1:o=-1;break}var h=o;var l=0;var _=[h,l];var c=this.getAllMovesInDirs(r,[_],{maxDist:u?2:1,excludeCaptures:true});var f=o;var g=1;var m=[f,g];var p=o;var d=-1;var w=[p,d];var y=this.getAllMovesInDirs(r,[m,w],{maxDist:1,onlyCaptures:true});n=c.concat(y);break;case 1:var k=-1;var C=-2;var R=[k,C];var S=-1;var b=2;var A=[S,b];var B=-2;var M=-1;var I=[B,M];var E=-2;var x=1;var D=[E,x];var T=1;var F=-2;var K=[T,F];var P=1;var W=2;var O=[P,W];var Q=2;var j=-1;var G=[Q,j];var N=2;var H=1;var L=[N,H];n=this.getAllMovesInDirs(r,[R,A,I,D,K,O,G,L],{maxDist:1});break;case 2:var q=1;var U=1;var V=[q,U];var z=1;var J=-1;var X=[z,J];var Y=-1;var Z=1;var $=[Y,Z];var rr=-1;var er=-1;var tr=[rr,er];n=this.getAllMovesInDirs(r,[V,X,$,tr]);break;case 3:var ar=1;var nr=0;var ir=[ar,nr];var vr=-1;var sr=0;var ur=[vr,sr];var or=0;var hr=1;var lr=[or,hr];var _r=0;var cr=-1;var fr=[_r,cr];n=this.getAllMovesInDirs(r,[ir,ur,lr,fr]);break;case 4:var gr=1;var mr=1;var pr=[gr,mr];var dr=1;var wr=-1;var yr=[dr,wr];var kr=-1;var Cr=1;var Rr=[kr,Cr];var Sr=-1;var br=-1;var Ar=[Sr,br];var Br=1;var Mr=0;var Ir=[Br,Mr];var Er=-1;var xr=0;var Dr=[Er,xr];var Tr=0;var Fr=1;var Kr=[Tr,Fr];var Pr=0;var Wr=-1;var Or=[Pr,Wr];n=this.getAllMovesInDirs(r,[pr,yr,Rr,Ar,Ir,Dr,Kr,Or]);break;case 5:var Qr=0;var jr=1;var Gr=[Qr,jr];var Nr=1;var Hr=1;var Lr=[Nr,Hr];var qr=1;var Ur=0;var Vr=[qr,Ur];var zr=1;var Jr=-1;var Xr=[zr,Jr];var Yr=0;var Zr=-1;var $r=[Yr,Zr];var re=-1;var ee=-1;var te=[re,ee];var ae=-1;var ne=0;var ie=[ae,ne];var ve=-1;var se=1;var ue=[ve,se];n=this.getAllMovesInDirs(r,[Gr,Lr,Vr,Xr,$r,te,ie,ue],{maxDist:1});break}return n.map(function(r){return r.toString()})}},getQueenMoves:function(r){var e=1;var t=1;var a=[e,t];var n=1;var i=-1;var v=[n,i];var s=-1;var u=1;var o=[s,u];var h=-1;var l=-1;var _=[h,l];var c=1;var f=0;var g=[c,f];var m=-1;var p=0;var d=[m,p];var w=0;var y=1;var k=[w,y];var C=0;var R=-1;var S=[C,R];return this.getAllMovesInDirs(r,[a,v,o,_,g,d,k,S])},getBishopMoves:function(r){var e=1;var t=1;var a=[e,t];var n=1;var i=-1;var v=[n,i];var s=-1;var u=1;var o=[s,u];var h=-1;var l=-1;var _=[h,l];return this.getAllMovesInDirs(r,[a,v,o,_])},getRookMoves:function(r){var e=1;var t=0;var a=[e,t];var n=-1;var i=0;var v=[n,i];var s=0;var u=1;var o=[s,u];var h=0;var l=-1;var _=[h,l];return this.getAllMovesInDirs(r,[a,v,o,_])},getKnightMoves:function(r){var e=-1;var t=-2;var a=[e,t];var n=-1;var i=2;var v=[n,i];var s=-2;var u=-1;var o=[s,u];var h=-2;var l=1;var _=[h,l];var c=1;var f=-2;var g=[c,f];var m=1;var p=2;var d=[m,p];var w=2;var y=-1;var k=[w,y];var C=2;var R=1;var S=[C,R];return this.getAllMovesInDirs(r,[a,v,o,_,g,d,k,S],{maxDist:1})},getKingMoves:function(r){var e=0;var t=1;var a=[e,t];var n=1;var i=1;var v=[n,i];var s=1;var u=0;var o=[s,u];var h=1;var l=-1;var _=[h,l];var c=0;var f=-1;var g=[c,f];var m=-1;var p=-1;var d=[m,p];var w=-1;var y=0;var k=[w,y];var C=-1;var R=1;var S=[C,R];return this.getAllMovesInDirs(r,[a,v,o,_,g,d,k,S],{maxDist:1})},getPawnMoves:function(r,e){var t;switch(e[1]){case 0:t=oe.R2;break;case 1:t=oe.R7;break}var a=r.rank==t;var n;switch(e[1]){case 0:n=1;break;case 1:n=-1;break}var i=n;var v=0;var s=[i,v];var u=this.getAllMovesInDirs(r,[s],{maxDist:a?2:1,excludeCaptures:true});var o=n;var h=1;var l=[o,h];var _=n;var c=-1;var f=[_,c];var g=this.getAllMovesInDirs(r,[l,f],{maxDist:1,onlyCaptures:true});return u.concat(g)},getAllMovesInDirs:function(r,e,t){var a=8;var n=false;var i=false;if(t!=null){if(t.maxDist!=null){a=t.maxDist}else{a=a}if(t.excludeCaptures!=null){n=t.excludeCaptures}else{n=n}if(t.onlyCaptures!=null){i=t.onlyCaptures}else{i=i}}var v=[];var s=0;while(s<e.length){var u=e[s];++s;var o=0;var h=r;var l;while(true){h=this.getCoordOffsetBy(h,u);l=this.getCoordInfo(h);if(l.isOnBoard){var _=l.isEmpty;var c=!l.isEmpty&&!l.isFriendly;if(!i&&_||!n&&c){var f=this.board.values;var g=r.hashCode();var m=f.h[g];var p=this.board.values;var d=h.hashCode();var w=new y(m,r,h,p.h[d]);v.push(w)}++o}if(!(l.isEmpty&&o<a)){break}}}return v},getCoordInfo:function(r){var e={isOnBoard:false,isEmpty:false,isFriendly:false};if(r==null){return e}else{e.isOnBoard=true;var t=this.board.values;var a=r.hashCode();var n=t.h[a];e.isEmpty=n==null;e.isFriendly=!e.isEmpty&&n.color==this.turn;return e}},getCoordOffsetBy:function(r,e){var t=r.rank[1];var a=r.file[1];t+=e[0];a+=e[1];if(t<0||t>7||a<0||a>7){return null}var n=m.createEnumIndex(oe,t,null);var i=m.createEnumIndex(W,a,null);return new O(n,i)},toAscii:function(){var r="  a b c d e f g h";var e="   Black: K Q R B N P";var t="   White: k q r b n p";var a=[r+t];var n=0;var i=oe.__empty_constructs__;while(n<i.length){var v=i[n];++n;var s=[O.rankToString(v)];var u=0;var o=W.__empty_constructs__;while(u<o.length){var h=o[u];++u;var l=this.board;var _=new O(v,h);var c=l.values;var f=_.hashCode();var g=c.h[f];if(g!=null){var m=G.typeToString(g.type);if(m==""){m="p"}if(g.color==Q.Black){m=m.toUpperCase()}else{m=m.toLowerCase()}s.push(m)}else{s.push("-")}}s.push(O.rankToString(v));a.push(s.join(" "))}a.push(r+e);a.reverse();return a.join("\n")}};var oe={__ename__:true,__constructs__:["R1","R2","R3","R4","R5","R6","R7","R8"]};oe.R1=["R1",0];oe.R1.__enum__=oe;oe.R2=["R2",1];oe.R2.__enum__=oe;oe.R3=["R3",2];oe.R3.__enum__=oe;oe.R4=["R4",3];oe.R4.__enum__=oe;oe.R5=["R5",4];oe.R5.__enum__=oe;oe.R6=["R6",5];oe.R6.__enum__=oe;oe.R7=["R7",6];oe.R7.__enum__=oe;oe.R8=["R8",7];oe.R8.__enum__=oe;oe.__empty_constructs__=[oe.R1,oe.R2,oe.R3,oe.R4,oe.R5,oe.R6,oe.R7,oe.R8];var W={__ename__:true,__constructs__:["A","B","C","D","E","F","G","H"]};W.A=["A",0];W.A.__enum__=W;W.B=["B",1];W.B.__enum__=W;W.C=["C",2];W.C.__enum__=W;W.D=["D",3];W.D.__enum__=W;W.E=["E",4];W.E.__enum__=W;W.F=["F",5];W.F.__enum__=W;W.G=["G",6];W.G.__enum__=W;W.H=["H",7];W.H.__enum__=W;W.__empty_constructs__=[W.A,W.B,W.C,W.D,W.E,W.F,W.G,W.H];var O=function(r,e){this.rank=r;this.file=e};O.__name__=true;O.fromString=function(r){var e=O.fileFromString(r.charAt(0));var t=O.rankFromString(r.charAt(1));return new O(t,e)};O.fileToString=function(r){return r[0].toLowerCase()};O.fileFromString=function(r){var e=r.toUpperCase();switch(e){case"A":return W.A;case"B":return W.B;case"C":return W.C;case"D":return W.D;case"E":return W.E;case"F":return W.F;case"G":return W.G;case"H":return W.H;default:throw new l("Error: Invalid file string: "+r)}};O.rankToString=function(r){return r[0].charAt(1)};O.rankFromString=function(r){switch(r){case"1":return oe.R1;case"2":return oe.R2;case"3":return oe.R3;case"4":return oe.R4;case"5":return oe.R5;case"6":return oe.R6;case"7":return oe.R7;case"8":return oe.R8;default:throw new l("Error: Invalid rank string: "+r)}};O.prototype={hashCode:function(){return this.rank[1]+8*this.file[1]},toString:function(){var r=O.fileToString(this.file);var e=O.rankToString(this.rank);return r+e}};var y=function(r,e,t,a){this.piece=r;this.start=e;this.end=t;this.capture=a};y.__name__=true;y.fromString=function(r,e){var t=r.length==6?1:0;var a=O.fromString(u.substr(r,t,2));var n=O.fromString(u.substr(r,t+3,2));var i=new G(G.colorFromString(e.getTurn()),G.typeFromString(r.substring(0,t)));var v=e.getSquare(n.toString());var s=null;if(v!=""){s=G.fromString(v)}return new y(i,a,n,s)};y.prototype={toString:function(){var r=G.typeToString(this.piece.type);var e=this.start.toString();var t=this.end.toString();var a=this.capture!=null?"x":"-";return r+e+a+t}};var Q={__ename__:true,__constructs__:["White","Black"]};Q.White=["White",0];Q.White.__enum__=Q;Q.Black=["Black",1];Q.Black.__enum__=Q;Q.__empty_constructs__=[Q.White,Q.Black];var j={__ename__:true,__constructs__:["Pawn","Knight","Bishop","Rook","Queen","King"]};j.Pawn=["Pawn",0];j.Pawn.__enum__=j;j.Knight=["Knight",1];j.Knight.__enum__=j;j.Bishop=["Bishop",2];j.Bishop.__enum__=j;j.Rook=["Rook",3];j.Rook.__enum__=j;j.Queen=["Queen",4];j.Queen.__enum__=j;j.King=["King",5];j.King.__enum__=j;j.__empty_constructs__=[j.Pawn,j.Knight,j.Bishop,j.Rook,j.Queen,j.King];var G=function(r,e){this.color=r;this.type=e};G.__name__=true;G.fromString=function(r){var e=G.colorFromString(r.charAt(0));var t=G.typeFromString(r.charAt(1));return new G(e,t)};G.colorToString=function(r){switch(r[1]){case 0:return"w";case 1:return"b"}};G.colorFromString=function(r){var e=r.toUpperCase();switch(e){case"B":return Q.Black;case"W":return Q.White;default:throw new l("Error: Invalid color string: "+t.string(r))}};G.typeToString=function(r){switch(r[1]){case 0:return"";case 1:return"N";case 2:return"B";case 3:return"R";case 4:return"Q";case 5:return"K"}};G.typeFromString=function(r){var e=r.toUpperCase();switch(e){case"":return j.Pawn;case"B":return j.Bishop;case"K":return j.King;case"N":return j.Knight;case"Q":return j.Queen;case"R":return j.Rook;default:throw new l("Error: Invalid type string: "+t.string(r))}};G.prototype={toString:function(){var r=G.colorToString(this.color);var e=G.typeToString(this.type);return r+e}};var v=function(){};v.__name__=true;var s=function(){};s.__name__=true;s.prototype={set:function(r,e){this.root=this.setLoop(r,e,this.root)},get:function(r){var e=this.root;while(e!=null){var t=this.compare(r,e.key);if(t==0){return e.value}if(t<0){e=e.left}else{e=e.right}}return null},setLoop:function(r,e,t){if(t==null){return new h(null,r,e,null)}var a=this.compare(r,t.key);if(a==0){return new h(t.left,r,e,t.right,t==null?0:t._height)}else if(a<0){var n=this.setLoop(r,e,t.left);return this.balance(n,t.key,t.value,t.right)}else{var i=this.setLoop(r,e,t.right);return this.balance(t.left,t.key,t.value,i)}},balance:function(r,e,t,a){var n=r==null?0:r._height;var i=a==null?0:a._height;if(n>i+2){var v=r.left;var s=r.right;if((v==null?0:v._height)>=(s==null?0:s._height)){return new h(r.left,r.key,r.value,new h(r.right,e,t,a))}else{return new h(new h(r.left,r.key,r.value,r.right.left),r.right.key,r.right.value,new h(r.right.right,e,t,a))}}else if(i>n+2){var u=a.right;var o=a.left;if((u==null?0:u._height)>(o==null?0:o._height)){return new h(new h(r,e,t,a.left),a.key,a.value,a.right)}else{return new h(new h(r,e,t,a.left.left),a.left.key,a.left.value,new h(a.left.right,a.key,a.value,a.right))}}else{return new h(r,e,t,a,(n>i?n:i)+1)}},compare:function(r,e){return n.compare(r,e)}};var h=function(r,e,t,a,n){if(n==null){n=-1}this.left=r;this.key=e;this.value=t;this.right=a;if(n==-1){var i;var v=this.left;var s=this.right;if((v==null?0:v._height)>(s==null?0:s._height)){var u=this.left;if(u==null){i=0}else{i=u._height}}else{var o=this.right;if(o==null){i=0}else{i=o._height}}this._height=i+1}else{this._height=n}};h.__name__=true;var N=function(){s.call(this)};N.__name__=true;N.__interfaces__=[v];N.__super__=s;N.prototype=e(s.prototype,{compare:function(r,e){var t=r[1]-e[1];if(t!=0){return t}var a=r.slice(2);var n=e.slice(2);if(a.length==0&&n.length==0){return 0}return this.compareArgs(a,n)},compareArgs:function(r,e){var t=r.length-e.length;if(t!=0){return t}var a=0;var n=r.length;while(a<n){var i=a++;var v=this.compareArg(r[i],e[i]);if(v!=0){return v}}return 0},compareArg:function(r,e){if(n.isEnumValue(r)&&n.isEnumValue(e)){return this.compare(r,e)}else if(r instanceof Array&&r.__enum__==null&&(e instanceof Array&&e.__enum__==null)){return this.compareArgs(r,e)}else{return n.compare(r,e)}}});var H=function(){this.keys=new o;this.values=new o};H.__name__=true;var o=function(){this.h={}};o.__name__=true;o.__interfaces__=[v];o.prototype={remove:function(r){if(!this.h.hasOwnProperty(r)){return false}delete this.h[r];return true},keys:function(){var r=[];for(var e in this.h)if(this.h.hasOwnProperty(e)){r.push(e|0)}return u.iter(r)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var r=this.it.next();return this.ref[r]}}}};var l=function(r){Error.call(this);this.val=r;this.message=String(r);if(Error.captureStackTrace){Error.captureStackTrace(this,l)}};l.__name__=true;l.wrap=function(r){if(r instanceof Error){return r}else{return new l(r)}};l.__super__=Error;l.prototype=e(Error.prototype,{});var d=function(){};d.__name__=true;d.__string_rec=function(r,e){if(r==null){return"null"}if(e.length>=5){return"<...>"}var t=typeof r;if(t=="function"&&(r.__name__||r.__ename__)){t="object"}switch(t){case"function":return"<function>";case"object":if(r instanceof Array){if(r.__enum__){if(r.length==2){return r[0]}var a=r[0]+"(";e+="\t";var n=2;var i=r.length;while(n<i){var v=n++;if(v!=2){a+=","+d.__string_rec(r[v],e)}else{a+=d.__string_rec(r[v],e)}}return a+")"}var s=r.length;var u;var o="[";e+="\t";var h=0;var l=s;while(h<l){var _=h++;o+=(_>0?",":"")+d.__string_rec(r[_],e)}o+="]";return o}var c;try{c=r.toString}catch(r){return"???"}if(c!=null&&c!=Object.toString&&typeof c=="function"){var f=r.toString();if(f!="[object Object]"){return f}}var g=null;var m="{\n";e+="\t";var p=r.hasOwnProperty!=null;for(var g in r){if(p&&!r.hasOwnProperty(g)){continue}if(g=="prototype"||g=="__class__"||g=="__super__"||g=="__interfaces__"||g=="__properties__"){continue}if(m.length!=2){m+=", \n"}m+=e+g+" : "+d.__string_rec(r[g],e)}e=e.substring(1);m+="\n"+e+"}";return m;case"string":return r;default:return String(r)}};String.__name__=true;Array.__name__=true})(typeof exports!="undefined"?exports:typeof window!="undefined"?window:typeof self!="undefined"?self:this);